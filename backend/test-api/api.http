@baseUrl = http://localhost:8080

###
# ==============================
#   AUTH
# ==============================

### 註冊
# @name register
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "username": "demo_user",
  "email": "demo_user@example.com",
  "password": "demoPass123"
}

### 登入
# @name login
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "username": "demo_user",
  "password": "demoPass123"
}

### 從登入回應自動擷取 token（執行上方登入後即生效）
@accessToken = {{login.response.body.$.accessToken}}

###
# ==============================
#   USER（需要 JWT）
# ==============================

### 取得目前登入的使用者（依 access token 識別）
GET {{baseUrl}}/api/users/me
Authorization: Bearer {{accessToken}}

### 取得所有使用者
GET {{baseUrl}}/api/users
Authorization: Bearer {{accessToken}}

### 從上方回應手動填入 userId
@userId = 1

### 取得單一使用者（by ID）
GET {{baseUrl}}/api/users/{{userId}}
Authorization: Bearer {{accessToken}}

### 取得單一使用者（by username）
GET {{baseUrl}}/api/users/username/demo_user
Authorization: Bearer {{accessToken}}

### 更新使用者（by ID）
PUT {{baseUrl}}/api/users/{{userId}}
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "username": "demo_user_updated",
  "email": "demo_updated@example.com",
  "password": "newPass456"
}

### 刪除使用者（by ID）
DELETE {{baseUrl}}/api/users/{{userId}}
Authorization: Bearer {{accessToken}}
